# 视频加载与摄像头调用

执行下面的代码，读取并显示指定的视频，同时输出视频的基本信息。

```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;
using namespace std;

int main(int argc, char const *argv[])
{
    VideoCapture video("demo.mp4");
    Mat img;
    int k;
    if (video.isOpened())
    {
        cout << "width: " << video.get(CAP_PROP_FRAME_WIDTH) << endl;
        cout << "height: " << video.get(CAP_PROP_FRAME_HEIGHT) << endl;
        cout << "fps: " << video.get(CAP_PROP_FPS) << endl;
        cout << "frame: " << video.get(CAP_PROP_FRAME_COUNT) << endl;
    }
    else
    {
        cout << "Count not load video.\n" << endl;
        return -1;
    }
    while (true)
    {
        video >> img;
        if (img.empty())
        {
            break;
        }
        imshow("VIDEO", img);
        k = waitKey(1000 / video.get(CAP_PROP_FPS));
        if (k == 27)
        {
            return 0;
        }
    }
    waitKey(0);
    video.release();
    destroyAllWindows();
    return 0;
}
```

执行下面的代码，直接调用本机摄像头。

```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;
using namespace std;

int main(int argc, char const *argv[])
{
    VideoCapture video(0);
    Mat img;
    int k;
    if (video.isOpened())
    {
        cout << "width: " << video.get(CAP_PROP_FRAME_WIDTH) << endl;
        cout << "height: " << video.get(CAP_PROP_FRAME_HEIGHT) << endl;
        cout << "fps: " << video.get(CAP_PROP_FPS) << endl;
        cout << "frame: " << video.get(CAP_PROP_FRAME_COUNT) << endl;
    }
    else
    {
        cout << "Count not load video.\n" << endl;
        return -1;
    }
    while (true)
    {
        video >> img;
        if (img.empty())
        {
            break;
        }
        imshow("VIDEO", img);
        k = waitKey(1);
        if (k == 27)
        {
            return 0;
        }
    }
    waitKey(0);
    video.release();
    destroyAllWindows();
    return 0;
}
```

